!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.weui=b():a.weui=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(7),h=d(g),i=c(8),j=d(i),k=c(9),l=d(k),m=c(11),n=d(m),o=c(13),p=d(o),q=c(15),r=d(q),s=c(17),t=d(s),u=c(18),v=d(u),w=c(19),x=d(w),y=c(20),z=d(y),A=c(24),B=c(30),C=d(B),D=c(32),E=d(D);b.default={dialog:f.default,alert:h.default,confirm:j.default,toast:l.default,loading:n.default,actionSheet:p.default,topTips:r.default,searchBar:t.default,tab:v.default,form:x.default,uploader:z.default,picker:A.picker,datePicker:A.datePicker,gallery:C.default,slider:E.default},a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(b){a=g.default.noop,h.addClass("weui-animate-fade-out"),f.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){e.remove(),j=!1,b&&b()})}function b(b){a(b)}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(j)return j;var d=g.default.os.android;c=g.default.extend({title:null,content:"",className:"",buttons:[{label:"确定",type:"primary",onClick:g.default.noop}],isAndroid:d},c);var e=(0,g.default)(g.default.render(i.default,c)),f=e.find(".weui-dialog"),h=e.find(".weui-mask");return(0,g.default)("body").append(e),h.addClass("weui-animate-fade-in"),f.addClass("weui-animate-fade-in"),e.on("click",".weui-dialog__btn",function(a){var d=(0,g.default)(this).index();c.buttons[d].onClick?!1!==c.buttons[d].onClick.call(this,a)&&b():b()}),j=e[0],j.hide=b,j}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(6),i=d(h),j=void 0;b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=this.os={},c=a.match(/(Android);?[\s\/]+([\d.]+)?/);c&&(b.android=!0,b.version=c[2])}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(3);var g=c(4),h=d(g),i=c(5),j=d(i);e.call(j.default,navigator.userAgent),(0,h.default)(j.default.fn,{append:function(a){return a instanceof HTMLElement||(a=a[0]),this.forEach(function(b){b.appendChild(a)}),this},remove:function(){return this.forEach(function(a){a.parentNode.removeChild(a)}),this},find:function(a){return(0,j.default)(a,this)},addClass:function(a){return this.forEach(function(b){b.classList.add(a)}),this},removeClass:function(a){return this.forEach(function(b){b.classList.remove(a)}),this},eq:function(a){return(0,j.default)(this[a])},show:function(){return this.forEach(function(a){a.style.display="block"}),this},hide:function(){return this.forEach(function(a){a.style.display="none"}),this},html:function(a){return this.forEach(function(b){b.innerHTML=a}),this},css:function(a){var b=this;return Object.keys(a).forEach(function(c){b.forEach(function(b){b.style[c]=a[c]})}),this},on:function(a,b,c){var d="string"==typeof b&&"function"==typeof c;return d||(c=b),this.forEach(function(e){a.split(" ").forEach(function(a){e.addEventListener(a,function(a){d?this.contains(a.target.closest(b))&&c.call(a.target,a):c.call(this,a)})})}),this},off:function(a,b,c){return"function"==typeof b&&(c=b,b=null),this.forEach(function(d){a.split(" ").forEach(function(a){"string"==typeof b?d.querySelectorAll(b).forEach(function(b){b.removeEventListener(a,c)}):d.removeEventListener(a,c)})}),this},index:function(){var a=this[0],b=a.parentNode;return Array.prototype.indexOf.call(b.children,a)},offAll:function(){var a=this;return this.forEach(function(b,c){var d=b.cloneNode(!0);b.parentNode.replaceChild(d,b),a[c]=d}),this},val:function(){var a=arguments;return arguments.length?(this.forEach(function(b){b.value=a[0]}),this):this[0].value},attr:function(){var a=arguments,b=this;if("object"==f(arguments[0])){var c=function(){var c=a[0],d=b;return Object.keys(c).forEach(function(a){d.forEach(function(b){b.setAttribute(a,c[a])})}),{v:b}}();if("object"===(void 0===c?"undefined":f(c)))return c.v}return"string"==typeof arguments[0]&&arguments.length<2?this[0].getAttribute(arguments[0]):(this.forEach(function(b){b.setAttribute(a[0],a[1])}),this)}}),(0,h.default)(j.default,{extend:h.default,noop:function(){},render:function(a,b){var c="var p=[];with(this){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');";return new Function(c).apply(b)},getStyle:function(a,b){var c,d=(a.ownerDocument||document).defaultView;return d&&d.getComputedStyle?(b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle?(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b],/^\d+(em|pt|%|ex)?$/i.test(c)?function(b){var c=a.style.left,d=a.runtimeStyle.left;return a.runtimeStyle.left=a.currentStyle.left,a.style.left=b||0,b=a.style.pixelLeft+"px",a.style.left=c,a.runtimeStyle.left=d,b}(c):c):void 0}}),b.default=j.default,a.exports=b.default},function(a,b){!function(a){"function"!=typeof a.matches&&(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return Boolean(c[d])}),"function"!=typeof a.closest&&(a.closest=function(a){for(var b=this;b&&1===b.nodeType;){if(b.matches(a))return b;b=b.parentNode}return null})}(window.Element.prototype)},function(a,b){"use strict";function c(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function d(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}var e=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;a.exports=d()?Object.assign:function(a,b){for(var d,g,h=c(a),i=1;i<arguments.length;i++){d=Object(arguments[i]);for(var j in d)e.call(d,j)&&(h[j]=d[j]);if(Object.getOwnPropertySymbols){g=Object.getOwnPropertySymbols(d);for(var k=0;k<g.length;k++)f.call(d,g[k])&&(h[g[k]]=d[g[k]])}}return h}},function(a,b,c){var d,e;!function(c,f){f=function(a,b,c){function d(e,f,g){return g=Object.create(d.fn),e&&g.push.apply(g,e[b]?[e]:""+e===e?/</.test(e)?((f=a.createElement(f||b)).innerHTML=e,f.children):f?(f=d(f)[0])?f[c](e):g:a[c](e):"function"==typeof e?a.readyState[7]?e():a[b]("DOMContentLoaded",e):e),g}return d.fn=[],d.one=function(a,b){return d(a,b)[0]||null},d}(document,"addEventListener","querySelectorAll"),d=[],void 0!==(e=function(){return f}.apply(b,d))&&(a.exports=e)}()},function(a,b){a.exports='<div class="<%=className%>"> <div class=weui-mask></div> <div class="weui-dialog <% if(isAndroid){ %> weui-skin_android <% } %>"> <% if(title){ %> <div class=weui-dialog__hd><strong class=weui-dialog__title><%=title%></strong></div> <% } %> <div class=weui-dialog__bd><%=content%></div> <div class=weui-dialog__ft> <% for(var i = 0; i < buttons.length; i++){ %> <a href=javascript:; class="weui-dialog__btn weui-dialog__btn_<%=buttons[i][\'type\']%>"><%=buttons[i][\'label\']%></a> <% } %> </div> </div> </div> '},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default.noop,c=arguments[2];return"object"===(void 0===b?"undefined":f(b))&&(c=b,b=h.default.noop),c=h.default.extend({content:a,buttons:[{label:"确定",type:"primary",onClick:b}]},c),(0,j.default)(c)}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(2),h=d(g),i=c(1),j=d(i);b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default.noop,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.default.noop,d=arguments[3];return"object"===(void 0===b?"undefined":f(b))?(d=b,b=h.default.noop):"object"===(void 0===c?"undefined":f(c))&&(d=c,c=h.default.noop),d=h.default.extend({content:a,buttons:[{label:"取消",type:"default",onClick:c},{label:"确定",type:"primary",onClick:b}]},d),(0,j.default)(d)}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(2),h=d(g),i=c(1),j=d(i);b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j)return j;"number"==typeof b&&(b={duration:b}),"function"==typeof b&&(b={callback:b}),b=g.default.extend({content:a,duration:3e3,callback:g.default.noop,className:""},b);var c=(0,g.default)(g.default.render(i.default,b)),d=c.find(".weui-toast"),e=c.find(".weui-mask");return(0,g.default)("body").append(c),d.addClass("weui-animate-fade-in"),e.addClass("weui-animate-fade-in"),setTimeout(function(){e.addClass("weui-animate-fade-out"),d.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){c.remove(),j=!1,b.callback()})},b.duration),j=c[0],c[0]}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(10),i=d(h),j=void 0;b.default=e,a.exports=b.default},function(a,b){a.exports='<div class="<%= className %>"> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class="weui-icon_toast weui-icon-success-no-circle"></i> <p class=weui-toast__content><%=content%></p> </div> </div> '},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(b){a=g.default.noop,h.addClass("weui-animate-fade-out"),f.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){e.remove(),j=!1,b&&b()})}function b(b){a(b)}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j)return j;d=g.default.extend({content:c,className:""},d);var e=(0,g.default)(g.default.render(i.default,d)),f=e.find(".weui-toast"),h=e.find(".weui-mask");return(0,g.default)("body").append(e),f.addClass("weui-animate-fade-in"),h.addClass("weui-animate-fade-in"),j=e[0],j.hide=b,j}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(12),i=d(h),j=void 0;b.default=e,a.exports=b.default},function(a,b){a.exports='<div class="weui-loading_toast <%= className %>"> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class="weui-loading weui-icon_toast"></i> <p class=weui-toast__content><%=content%></p> </div> </div> '},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(b){a=g.default.noop,k.addClass(f?"weui-animate-fade-out":"weui-animate-slide-down"),l.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){h.remove(),j=!1,b&&b()})}function b(b){a(b)}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(j)return j;var f=g.default.os.android;e=g.default.extend({menus:c,actions:d,className:"",isAndroid:f},e);var h=(0,g.default)(g.default.render(i.default,e)),k=h.find(".weui-actionsheet"),l=h.find(".weui-mask");return(0,g.default)("body").append(h),g.default.getStyle(k[0],"transform"),k.addClass(f?"weui-animate-fade-in":"weui-animate-slide-up"),l.addClass("weui-animate-fade-in").on("click",function(){b()}),h.find(".weui-actionsheet__menu").on("click",".weui-actionsheet__cell",function(a){var d=(0,g.default)(this).index();c[d].onClick.call(this,a),b()}),h.find(".weui-actionsheet__action").on("click",".weui-actionsheet__cell",function(a){var c=(0,g.default)(this).index();d[c].onClick.call(this,a),b()}),j=h[0],j.hide=b,j}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(14),i=d(h),j=void 0;b.default=e,a.exports=b.default},function(a,b){a.exports='<div class="<% if(isAndroid){ %>weui-skin_android <% } %><%= className %>"> <div class=weui-mask></div> <div class=weui-actionsheet> <div class=weui-actionsheet__menu> <% for(var i = 0; i < menus.length; i++){ %> <div class=weui-actionsheet__cell><%= menus[i].label %></div> <% } %> </div> <div class=weui-actionsheet__action> <% for(var j = 0; j < actions.length; j++){ %> <div class=weui-actionsheet__cell><%= actions[j].label %></div> <% } %> </div> </div> </div> '},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){b=g.default.noop,e.remove(),a&&a(),d.callback(),j=null}function c(a){b(a)}var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"==typeof d&&(d={duration:d}),"function"==typeof d&&(d={callback:d}),d=g.default.extend({content:a,duration:3e3,callback:g.default.noop,className:""},d);var e=(0,g.default)(g.default.render(i.default,d));return(0,g.default)("body").append(e),j&&(clearTimeout(j.timeout),j.hide()),j={hide:c},j.timeout=setTimeout(c,d.duration),e[0].hide=c,e[0]}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(16),i=d(h),j=null;b.default=e,a.exports=b.default},function(a,b){a.exports='<div class="weui-toptips weui-toptips_warn <%= className %>" style=display:block><%= content %></div> '},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=(0,g.default)(a);return b.forEach(function(a){function b(){e.val(""),c.removeClass("weui-search-bar_focusing")}var c=(0,g.default)(a),d=c.find(".weui-search-bar__label"),e=c.find(".weui-search-bar__input"),f=c.find(".weui-icon-clear"),h=c.find(".weui-search-bar__cancel-btn");d.on("click",function(){c.addClass("weui-search-bar_focusing"),e[0].focus()}),e.on("blur",function(){this.value.length||b()}),f.on("click",function(){e.val(""),e[0].focus()}),h.on("click",function(){b(),e[0].blur()})}),b}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f);b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,g.default)(a);return b=g.default.extend({defaultIndex:0,onChange:g.default.noop},b),c.forEach(function(a){var c=(0,g.default)(a),d=c.find(".weui-navbar__item, .weui-tabbar__item"),e=c.find(".weui-tab__content");d.eq(b.defaultIndex).addClass("weui-bar__item_on"),e.eq(b.defaultIndex).show(),d.on("click",function(){var a=(0,g.default)(this),c=a.index();d.removeClass("weui-bar__item_on"),a.addClass("weui-bar__item_on"),e.hide(),e.eq(c).show(),b.onChange.call(this,c)})}),this}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f);b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return a&&a.classList?a.classList.contains("weui-cell")?a:e(a.parentNode):null}function f(a,b,c){var d=a[0],e=a.val();if("INPUT"==d.tagName||"TEXTAREA"==d.tagName){var f=d.getAttribute("pattern")||"";if("radio"==d.type){for(var g=b.find('input[type="radio"][name="'+d.name+'"]'),h=0,i=g.length;h<i;++h)if(g[h].checked)return null;return"empty"}if("checkbox"!=d.type){if(a.val().length){if(f){if(/^REG_/.test(f)){if(!c)throw"RegExp "+f+" is empty.";if(f=f.replace(/^REG_/,""),!c[f])throw"RegExp "+f+" has not found.";f=c[f]}return new RegExp(f).test(e)?null:"notMatch"}return null}return"empty"}if(!f)return d.checked?null:"empty";var k=function(){var a=b.find('input[type="checkbox"][name="'+d.name+'"]'),c=f.replace(/[{\s}]/g,"").split(","),e=0;if(2!=c.length)throw d.outerHTML+" regexp is wrong.";return a.forEach(function(a){a.checked&&++e}),e?""===c[1]?e>=parseInt(c[0])?{v:null}:{v:"notMatch"}:parseInt(c[0])<=e&&e<=parseInt(c[1])?{v:null}:{v:"notMatch"}:{v:"empty"}}();if("object"===(void 0===k?"undefined":j(k)))return k.v}else if(e.length)return null;return"empty"}function g(a){if(a){var b=(0,l.default)(a.ele),c=a.msg,d=b.attr(c+"Tips")||b.attr("tips")||b.attr("placeholder");if(d&&(0,n.default)(d),"checkbox"==a.ele.type||"radio"==a.ele.type)return;var f=e(a.ele);f&&f.classList.add("weui-cell_warn")}}function h(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.noop,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.default)(a).forEach(function(a){var d=(0,l.default)(a),e=d.find("[required]"),h=d.find("[pattern]");"function"!=typeof b&&(b=g);for(var i=0,j=e.length;i<j;++i){var k=e.eq(i),m=f(k,d,c.regexp),n={ele:k[0],msg:m};if(m)return void(b(n)||g(n))}for(var o=0,j=h.length;o<j;++o){var p=h.eq(o),m=f(p,d,c.regexp),n={ele:p[0],msg:m};if((1==p.attr("required")||""!=p.val())&&m)return void(b(n)||g(n))}b(null)}),this}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(a).forEach(function(a){var c=(0,l.default)(a);c.find("[required],[pattern]").on("blur",function(){if("checkbox"!=this.type&&"radio"!=this.type){var a=(0,l.default)(this);if(!(a.val().length<1)){var d=f(a,c,b.regexp);d&&g({ele:a[0],msg:d})}}}).on("focus",function(){var a=e(this);a&&a.classList.remove("weui-cell_warn")})}),this}Object.defineProperty(b,"__esModule",{value:!0});var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=c(2),l=d(k),m=c(15),n=d(m);b.default={validate:h,checkIfBlur:i},a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,b){var c=a.find('[data-id="'+b+'"]'),d=c.find(".weui-uploader__file-content");return d.length||(d=(0,g.default)('<div class="weui-uploader__file-content"></div>'),c.append(d)),c.addClass("weui-uploader__file_status"),d}function d(a,b){a.find('[data-id="'+b+'"]').removeClass("weui-uploader__file_status").find(".weui-uploader__file-content").remove()}function e(a){a.url=h.createObjectURL(a),a.status="ready",a.upload=function(){(0,l.default)(g.default.extend({$uploader:f,file:a},b))},a.stop=function(){this.xhr.abort()},b.onQueued(a),b.auto&&a.upload()}var f=(0,g.default)(a),h=window.URL||window.webkitURL||window.mozURL;b=g.default.extend({url:"",auto:!0,type:"file",fileVal:"file",xhrFields:{},onBeforeQueued:g.default.noop,onQueued:g.default.noop,onBeforeSend:g.default.noop,onSuccess:g.default.noop,onProgress:g.default.noop,onError:g.default.noop},b),!1!==b.compress&&(b.compress=g.default.extend({width:1600,height:1600,quality:.8},b.compress)),b.onBeforeQueued&&function(){var a=b.onBeforeQueued;b.onBeforeQueued=function(b,c){var d=a.call(b,c);if(!1===d)return!1;if(!0!==d){var e=(0,g.default)(g.default.render(i.default,{id:b.id}));f.find(".weui-uploader__files").append(e)}}}(),b.onQueued&&function(){var a=b.onQueued;b.onQueued=function(c){if(!a.call(c)){f.find('[data-id="'+c.id+'"]').css({backgroundImage:'url("'+(c.base64||c.url)+'")'}),b.auto||d(f,c.id)}}}(),b.onBeforeSend&&function(){var a=b.onBeforeSend;b.onBeforeSend=function(b,c,d){if(!1===a.call(b,c,d))return!1}}(),b.onSuccess&&function(){var a=b.onSuccess;b.onSuccess=function(b,c){b.status="success",a.call(b,c)||d(f,b.id)}}(),b.onProgress&&function(){var a=b.onProgress;b.onProgress=function(b,d){a.call(b,d)||c(f,b.id).html(d+"%")}}(),b.onError&&function(){var a=b.onError;b.onError=function(b,d){b.status="fail",a.call(b,d)||c(f,b.id).html('<i class="weui-icon-warn"></i>')}}(),f.find('input[type="file"]').on("change",function(a){var c=a.target.files;0!==c.length&&(!1===b.compress&&"file"==b.type?Array.prototype.forEach.call(c,function(a){a.id=++m,!1!==b.onBeforeQueued(a,c)&&e(a)}):Array.prototype.forEach.call(c,function(a){a.id=++m,!1!==b.onBeforeQueued(a,c)&&(0,j.compress)(a,b,function(a){a&&e(a)})}),this.value="")})}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(21),i=d(h),j=c(22),k=c(23),l=d(k),m=0;b.default=e,a.exports=b.default},function(a,b){a.exports='<li class="weui-uploader__file weui-uploader__file_status" data-id="<%= id %>"> <div class=weui-uploader__file-content> <i class=weui-loading style=width:30px;height:30px></i> </div> </li> '},function(a,b){"use strict";function c(a){var b,c=a.naturalHeight,d=document.createElement("canvas");d.width=1,d.height=c;var e=d.getContext("2d");e.drawImage(a,0,0);try{b=e.getImageData(0,0,1,c).data}catch(a){return console.log("Cannot check verticalSquash: CORS?"),1}for(var f=0,g=c,h=c;h>f;){0===b[4*(h-1)+3]?g=h:f=h,h=g+f>>1}var i=h/c;return 0===i?1:i}function d(a){for(var b=atob(a.split(",")[1]),c=new ArrayBuffer(b.length),d=new Uint8Array(c),e=0;e<b.length;e++)d[e]=b.charCodeAt(e);return c}function e(a){var b=a.split(",")[0].split(":")[1].split(";")[0],c=d(a);return new Blob([c],{type:b})}function f(a){var b=new DataView(a);if(65496!=b.getUint16(0,!1))return-2;for(var c=b.byteLength,d=2;d<c;){var e=b.getUint16(d,!1);if(d+=2,65505==e){if(1165519206!=b.getUint32(d+=2,!1))return-1;var f=18761==b.getUint16(d+=6,!1);d+=b.getUint32(d+4,f);var g=b.getUint16(d,f);d+=2;for(var h=0;h<g;h++)if(274==b.getUint16(d+12*h,f))return b.getUint16(d+12*h+8,f)}else{if(65280!=(65280&e))break;d+=b.getUint16(d,!1)}}return-1}function g(a,b,c){var d=a.width,e=a.height;switch(c>4&&(a.width=e,a.height=d),c){case 2:b.translate(d,0),b.scale(-1,1);break;case 3:b.translate(d,e),b.rotate(Math.PI);break;case 4:b.translate(0,e),b.scale(1,-1);break;case 5:b.rotate(.5*Math.PI),b.scale(1,-1);break;case 6:b.rotate(.5*Math.PI),b.translate(0,-e);break;case 7:b.rotate(.5*Math.PI),b.translate(d,-e),b.scale(-1,1);break;case 8:b.rotate(-.5*Math.PI),b.translate(-d,0)}}function h(a,b,h){var i=new FileReader;i.onload=function(i){if(!1===b.compress)return a.base64=i.target.result,void h(a);var j=new Image;j.onload=function(){var i=c(j),k=f(d(j.src)),l=document.createElement("canvas"),m=l.getContext("2d"),n=b.compress.width,o=b.compress.height,p=j.width,q=j.height,r=void 0;if(p<q&&q>o?(p=parseInt(o*j.width/j.height),q=o):p>=q&&p>n&&(q=parseInt(n*j.height/j.width),p=n),l.width=p,l.height=q,k>0&&g(l,m,k),m.drawImage(j,0,0,p,q/i),r=/image\/jpeg/.test(a.type)||/image\/jpg/.test(a.type)?l.toDataURL("image/jpeg",b.compress.quality):l.toDataURL(a.type),"file"==b.type)if(/;base64,null/.test(r)||/;base64,$/.test(r))console.warn("Compress fail, dataURL is "+r+". Next will use origin file to upload."),h(a);else{var s=e(r);s.id=a.id,s.name=a.name,s.lastModified=a.lastModified,s.lastModifiedDate=a.lastModifiedDate,h(s)}else/;base64,null/.test(r)||/;base64,$/.test(r)?(b.onError(a,new Error("Compress fail, dataURL is "+r+".")),h()):(a.base64=r,h(a))},j.src=i.target.result},i.readAsDataURL(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.default={compress:h},a.exports=b.default},function(a,b){"use strict";function c(a){var b=a.url,c=a.file,d=a.fileVal,e=a.onBeforeSend,f=a.onProgress,g=a.onError,h=a.onSuccess,i=a.xhrFields,j=c.name,k=c.type,l=c.lastModifiedDate,m={name:j,type:k,size:"file"==a.type?c.size:c.base64.length,lastModifiedDate:l},n={};if(!1!==e(c,m,n)){c.status="progress",f(c,0);var o=new FormData,p=new XMLHttpRequest;c.xhr=p,Object.keys(m).forEach(function(a){o.append(a,m[a])}),"file"==a.type?o.append(d,c,j):o.append(d,c.base64),p.onreadystatechange=function(){if(4==p.readyState)if(200==p.status)try{var a=JSON.parse(p.responseText);h(c,a)}catch(a){g(c,a)}else g(c,new Error("XMLHttpRequest response status is "+p.status))},p.upload.addEventListener("progress",function(a){if(0!=a.total){var b=100*Math.ceil(a.loaded/a.total);f(c,b)}},!1),p.open("POST",b),Object.keys(i).forEach(function(a){p[a]=i[a]}),Object.keys(n).forEach(function(a){p.setRequestHeader(a,n[a])}),p.send(o)}}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(a){this.label=a.label,this.value=a.value}function g(){function a(){(0,j.default)("body").append(o),j.default.getStyle(o[0],"transform"),o.find(".weui-mask").addClass("weui-animate-fade-in"),o.find(".weui-picker").addClass("weui-animate-slide-up")}function b(a){b=j.default.noop,o.find(".weui-mask").addClass("weui-animate-fade-out"),o.find(".weui-picker").addClass("weui-animate-slide-down").on("animationend webkitAnimationEnd",function(){o.remove(),s=!1,a&&a()})}function c(a){b(a)}function d(a,b){if(void 0===m[b]&&g.defaultValue&&void 0!==g.defaultValue[b]){for(var c=g.defaultValue[b],e=0,h=a.length;e<h&&c!=a[e].value;++e);e<h?m[b]=e:console.warn("Picker has not match defaultValue: "+c)}o.find(".weui-picker__group").eq(b).scroll({items:a,temp:m[b],onChange:function(a,c){if(l[b]=a?new f(a):null,m[b]=c,i)g.onChange(l);else if(a.children&&a.children.length>0)o.find(".weui-picker__group").eq(b+1).show(),!i&&d(a.children,b+1);else{var e=o.find(".weui-picker__group");e.forEach(function(a,c){c>b&&(0,j.default)(a).hide()}),l.splice(b+1),g.onChange(l)}},onConfirm:g.onConfirm})}if(s)return s;var e=arguments[arguments.length-1],g=j.default.extend({id:"default",className:"",onChange:j.default.noop,onConfirm:j.default.noop},e),h=void 0,i=!1;if(arguments.length>2){var k=0;for(h=[];k<arguments.length-1;)h.push(arguments[k++]);i=!0}else h=arguments[0];t[g.id]=t[g.id]||[];for(var l=[],m=t[g.id],o=(0,j.default)(j.default.render(p.default,g)),q=e.depth||(i?h.length:n.depthOf(h[0])),u="";q--;)u+=r.default;return o.find(".weui-picker__bd").html(u),a(),i?h.forEach(function(a,b){d(a,b)}):d(h,0),o.on("click",".weui-mask",function(){c()}).on("click",".weui-picker__action",function(){c()}).on("click","#weui-picker-confirm",function(){g.onConfirm(l)}),s=o[0],s.hide=c,s}function h(a){var b=j.default.extend({id:"datePicker",onChange:j.default.noop,onConfirm:j.default.noop,start:2e3,end:2030,cron:"* * *"},a);"number"==typeof b.start?b.start=new Date(b.start+"-01-01"):"string"==typeof b.start&&(b.start=new Date(b.start)),"number"==typeof b.end?b.end=new Date(b.end+"-12-31"):"string"==typeof b.end&&(b.end=new Date(b.end));var c=function(a,b,c){for(var d=0,e=a.length;d<e;d++){var f=a[d];if(f[b]==c)return f}},d=[],e=l.default.parse(b.cron,b.start,b.end),f=void 0;do{f=e.next();var h=f.value.getFullYear(),i=f.value.getMonth()+1,k=f.value.getDate(),m=c(d,"value",h);m||(m={label:h+"年",value:h,children:[]},d.push(m));var n=c(m.children,"value",i);n||(n={label:i+"月",value:i,children:[]},m.children.push(n)),n.children.push({label:k+"日",value:k})}while(!f.done);return g(d,b)}Object.defineProperty(b,"__esModule",{value:!0});var i=c(2),j=e(i),k=c(25),l=e(k);c(26);var m=c(27),n=d(m),o=c(28),p=e(o),q=c(29),r=e(q);f.prototype.toString=function(){return this.value},f.prototype.valueOf=function(){return this.value};var s=void 0,t={};b.default={picker:g,datePicker:h},a.exports=b.default},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){var c=b[0],d=b[1],e=[],f=void 0;a=a.replace(/\*/g,c+"-"+d);for(var h=a.split(","),i=0,j=h.length;i<j;i++){var k=h[i];k.match(g)&&k.replace(g,function(a,b,g,h){h=parseInt(h)||1,b=Math.min(Math.max(c,~~Math.abs(b)),d),g=g?Math.min(d,~~Math.abs(g)):b,f=b;do{e.push(f),f+=h}while(f<=g)})}return e}function e(a,b,c){var e=a.replace(/^\s\s*|\s\s*$/g,"").split(/\s+/),f=[];return e.forEach(function(a,b){var c=h[b];f.push(d(a,c))}),new i(f,b,c)}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=/^(\d+)(?:-(\d+))?(?:\/(\d+))?$/g,h=[[1,31],[1,12],[0,6]],i=function(){function a(b,d,e){c(this,a),this._dates=b[0],this._months=b[1],this._days=b[2],this._start=d,this._end=e,this._pointer=d}return f(a,[{key:"_findNext",value:function(){for(var a=void 0;;){if(this._end.getTime()-this._pointer.getTime()<=0)throw new Error("out of range, end is "+this._end+", current is "+this._pointer);var b=this._pointer.getMonth(),c=this._pointer.getDate(),d=this._pointer.getDay();if(-1!==this._months.indexOf(b+1))if(-1!==this._dates.indexOf(c)){if(-1!==this._days.indexOf(d)){a=new Date(this._pointer);break}this._pointer.setDate(c+1)}else this._pointer.setDate(c+1);else this._pointer.setMonth(b+1),this._pointer.setDate(1)}return a}},{key:"next",value:function(){var a=this._findNext();return this._pointer.setDate(this._pointer.getDate()+1),{value:a,done:!this.hasNext()}}},{key:"hasNext",value:function(){try{return this._findNext(),!0}catch(a){return!1}}}]),a}();b.default={parse:e},a.exports=b.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=c(2),f=d(e),g=function(a,b){return a.css({"-webkit-transition":"all "+b+"s",transition:"all "+b+"s"})},h=function(a,b){return a.css({"-webkit-transform":"translate3d(0, "+b+"px, 0)",transform:"translate3d(0, "+b+"px, 0)"})},i=function(a){for(var b=Math.floor(a.length/2),c=0;a[b]&&a[b].disabled;)if(b=++b%a.length,++c>a.length)throw new Error("No selectable item.");return b},j=function(a,b,c){return(a-i(c))*b},k=function(a,b){return a*b},l=function(a,b,c){return-b*(c-a-1)};f.default.fn.scroll=function(a){function b(a){q=a,s=+new Date}function c(a){r=a;var b=r-q;g(p,0),h(p,t+b),s=+new Date,u.push({time:s,y:r}),u.length>40&&u.shift()}function d(a){if(q){var b=(new Date).getTime(),c=v-m.bodyHeight/2;if(r=a,b-s>100)y(Math.abs(r-q)>10?r-q:c-r);else if(Math.abs(r-q)>10){for(var d=u.length-1,e=d,f=d;f>0&&s-u[f].time<100;f--)e=f;if(e!==d){var g=u[d],h=u[e],i=g.time-h.time,j=g.y-h.y,k=j/i,l=150*k+(r-q);y(l)}else y(0)}else y(c-r);q=null}}var e=this,m=f.default.extend({items:[],scrollable:".weui-picker__content",offset:3,rowHeight:34,onChange:f.default.noop,temp:null,bodyHeight:238},a),n=m.items.map(function(a){return'<div class="weui-picker__item'+(a.disabled?" weui-picker__item_disabled":"")+'">'+a.label+"</div>"}).join(""),o=(0,f.default)(this);o.find(".weui-picker__content").html(n);var p=o.find(m.scrollable),q=void 0,r=void 0,s=void 0,t=void 0,u=[],v=window.innerHeight;if(null!==m.temp&&m.temp<m.items.length){var w=m.temp;m.onChange.call(this,m.items[w],w),t=(m.offset-w)*m.rowHeight}else{var x=i(m.items);m.onChange.call(this,m.items[x],x),t=j(m.offset,m.rowHeight,m.items)}h(p,t);var y=function(a){t+=a,t=Math.round(t/m.rowHeight)*m.rowHeight;var b=k(m.offset,m.rowHeight),c=l(m.offset,m.rowHeight,m.items.length);t>b&&(t=b),t<c&&(t=c);for(var d=m.offset-t/m.rowHeight;m.items[d]&&m.items[d].disabled;)a>0?++d:--d;t=(m.offset-d)*m.rowHeight,g(p,.3),h(p,t),m.onChange.call(e,m.items[d],d)};p=o.offAll().on("touchstart",function(a){b(a.changedTouches[0].pageY)}).on("touchmove",function(a){c(a.changedTouches[0].pageY),a.preventDefault()}).on("touchend",function(a){d(a.changedTouches[0].pageY)}).find(m.scrollable),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||o.on("mousedown",function(a){b(a.pageY),a.stopPropagation(),a.preventDefault()}).on("mousemove",function(a){q&&(c(a.pageY),a.stopPropagation(),a.preventDefault())}).on("mouseup mouseleave",function(a){d(a.pageY),a.stopPropagation(),a.preventDefault()})}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.depthOf=function a(b){var c=1;return b.children&&b.children[0]&&(c=a(b.children[0])+1),c}},function(a,b){a.exports='<div class="<%= className %>"> <div class=weui-mask></div> <div class=weui-picker> <div class=weui-picker__hd> <a href=javascript:; data-action=cancel class=weui-picker__action>取消</a> <a href=javascript:; data-action=select class=weui-picker__action id=weui-picker-confirm>确定</a> </div> <div class=weui-picker__bd></div> </div> </div> '},function(a,b){a.exports="<div class=weui-picker__group> <div class=weui-picker__mask></div> <div class=weui-picker__indicator></div> <div class=weui-picker__content></div> </div>"},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){b=g.default.noop,e.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){e.remove(),j=!1,a&&a()})}function c(a){b(a)}var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j)return j;d=g.default.extend({className:"",onDelete:g.default.noop},d);var e=(0,g.default)(g.default.render(i.default,g.default.extend({url:a},d)));return(0,g.default)("body").append(e),e.find(".weui-gallery__img").on("click",function(){c()}),e.find(".weui-gallery__del").on("click",function(){d.onDelete.call(this,a)}),e.show().addClass("weui-animate-fade-in"),j=e[0],j.hide=c,j}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(31),i=d(h),j=void 0;b.default=e,a.exports=b.default},function(a,b){a.exports='<div class="weui-gallery <%= className %>"> <span class=weui-gallery__img style="background-image:url(<%= url %>)"></span> <div class=weui-gallery__opr> <a href=javascript: class=weui-gallery__del> <i class="weui-icon-delete weui-icon_gallery-delete"></i> </a> </div> </div> '},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,g.default)(a);if(b=g.default.extend({step:void 0,defaultValue:0,onChange:g.default.noop},b),void 0!==b.step&&(b.step=parseFloat(b.step),!b.step||b.step<0))throw new Error("Slider step must be a positive number.");if(void 0!==b.defaultValue&&b.defaultValue<0||b.defaultValue>100)throw new Error("Slider defaultValue must be >= 0 and <= 100.");return c.forEach(function(a){function c(){var a=g.default.getStyle(i[0],"left");return a=/%/.test(a)?j*parseFloat(a)/100:parseFloat(a)}function d(c){var d=void 0,e=void 0;b.step&&(c=Math.round(c/n)*n),d=l+c,d=d<0?0:d>j?j:d,e=100*d/j,h.css({width:e+"%"}),i.css({left:e+"%"}),b.onChange.call(a,e)}var e=(0,g.default)(a),f=e.find(".weui-slider__inner"),h=e.find(".weui-slider__track"),i=e.find(".weui-slider__handler"),j=parseInt(g.default.getStyle(f[0],"width")),k=f[0].offsetLeft,l=0,m=0,n=void 0;b.step&&(n=j*b.step/100),b.defaultValue&&d(j*b.defaultValue/100),e.on("click",function(a){a.preventDefault(),l=c(),d(a.pageX-k-l)}),i.on("touchstart",function(a){l=c(),m=a.changedTouches[0].clientX}).on("touchmove",function(a){a.preventDefault(),d(a.changedTouches[0].clientX-m)})}),this}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f);b.default=e,a.exports=b.default}])});