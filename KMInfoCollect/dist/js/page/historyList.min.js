$(function(){function a(a){store.get(a)&&!isEmpty(JSON.parse(store.get(a)).data)?(b(a),c(a),e.hide(),d.show()):(e.show(),d.hide())}function b(a){var b=JSON.parse(store.get(a));b.data.length>$historyNum&&(b.data.splice($historyNum,b.data.length-$historyNum),store.set(a,JSON.stringify(b)))}function c(a){var b="",c=JSON.parse(store.get(a));$.each(c.data,function(c,d){switch(a){case"histStock":b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histStock_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">交易市场：'+d.Market+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>药材名称：'+d.Medicine+"</p><p>商户名称："+d.MerchantName+"</p><p>联 系 人："+d.ContactPerson+"</p><p>年消耗量："+d.Consume+"公斤</p><p>库存数量："+d.Inventory+"公斤</p><p>存量进价："+d.InventoryCost+"元/公斤</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>";break;case"histOrigin":b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histOrigin_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">产地名称：'+d.BaseName+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>药材名称：'+d.Medicine+"</p><p>种植户："+d.GrowerName+"</p><p>种植面积："+d.Area+"亩</p><p>人工成本："+d.PersonCost+"元/亩</p><p>物流成本："+d.MaterialCost+"元/亩</p><p>种子成本："+d.SeedCost+"元/亩</p><p>预估产量："+d.EstimateProduction+"公斤/亩</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>";break;case"histOutput":d.Price=d.hasOwnProperty("Price")?d.Price:"0",b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histOutput_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">产地名称：'+d.BaseName+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>药材名称：'+d.Medicine+"</p><p>种植户："+d.GrowerName+"</p><p>种植面积："+d.Area+"亩</p><p>单位产量："+d.UnitProduction+"公斤/亩</p><p>产量趋势："+d.ProdcutionTendency+"</p><p>采收价格："+d.Price+"元/公斤</p><p>价格趋势："+d.PriceTendency+"</p><p>种植意愿："+d.Wish+"</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>";break;case"histEnvi":b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histEnvi_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">产地名称：'+d.BaseName+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>天气状况：'+d.Weather+"</p><p>灾害描述："+d.Disaster+"</p><p>当地政策："+d.Policy+"</p><p>产量趋势："+d.Tendency+"</p><p>趋势范围："+d.Range+"</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>";break;case"histPieces":b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histPieces_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">生产商：'+d.Manufacturer+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>药材名称：'+d.Medicine+"</p><p>产地名称："+d.BaseName+"</p><p>产量规模："+d.Scale+"</p><p>饮片规格："+d.Standard+"</p><p>市场表现："+d.MarketStatus+"</p><p>市场需求："+d.MarketTendency+"</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>";break;case"histPro":b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histPro_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">产品名称：'+d.ProductName+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>生产商：'+d.ManufacturerName+"</p><p>原药材："+d.MedicineName+"</p><p>供应商："+d.Supplier+"</p><p>年销售额："+d.Sale+"</p><p>需求趋势："+d.ProductTendency+"</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>";break;case"histTrading":b+="<div class=\"weui-cells\"><a href=\"javascript:window.pageManager.go('historyDetail','histTrading_"+d.hid+'\');" class="c-222222"><div class="weui-cell fz-15">交易市场：'+d.Market+'</div><div class="weui-cell c-666666 align-items-left direction-column lh-24" style="display:block;"><p>商户名称：'+d.MerchantName+"</p><p>经营规模："+d.Scale+"</p><p>药材名称："+d.Medicine+"</p><p>产地名称："+d.BaseName+"</p><p>交易类型："+d.MedicineType+"</p><p>备　　注："+d.Addition+"</p><p>采集时间："+d.Time+"</p></div></a></div>"}}),d.html(b)}var d=$("#historyList"),e=$("#historyListEmpty");a(store.get("chooseHistory")?store.get("chooseHistory"):"")});